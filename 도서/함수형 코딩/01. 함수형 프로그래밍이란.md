# 1. 함수형 코딩이란?

## Functional Programming (FP)

1. **수학 함수**를 사용하고 **side effect(부수효과)** 를 피하는 것이 특징인 프로그래밍 패러다임
2. **Side effect** 없이 **pure function(순수 함수)**를 사용하는 프로그래밍 스타일

* Side effect : 함수가 리턴값 이외에 하는 모든 일. 
* Pure function : 인자에만 의존하고 side effect 가 없는 함수. **같은 인자를 넣으면 항상 같은 결과를 리턴함**. 이는 수학의 함수와 동일하게 동작 (Pure function == 수학 함수).

## 실용적 관점에서 Functional Programming 의 문제

**Side effect 는 필요함.** ➡️ side effect 는 소프트웨어를 실행하는 이유. (e.g. 데이터베이스에 사용자 등록 등)

* Side effect 라는 문제를 해결하기 위해 FP 에서 뭘 할 수 있냐?
	* Side effect / 순수하지 않은 함수를 다룰 수 있는 기술이 많음
	* FP 는 실용적이며 FP 로 잘 만들어진 좋은 소프트웨어 많음
		* FP 의 중요한 개념은 객체 지향 / 절차 지향 프로그래밍을 가리지 않고 모든 프로그래밍 언어에서 사용 가능

## 함수형 사고

함수형 프로그래머가 소프트웨어 문제를 해결할 때 사용하는 기술과 생각.

1. 액션 / 계산 / 데이터 구분
2. 일급 추상 (First-class abstraction)

## 액션, 계산, 데이터

코드를 세 가지로 분류 가능. **함수형 프로그래머는 코드를 액션, 계산, 데이터로 구분.**

1. Action
2. Calculation
3. Data

일반적으로 사용하기 좋은 것

Data (가장 좋음) > Calculation > Action (가장 안좋음)

## 구분

액션, 계산, 데이터를 구분하는 기준은 아래가 될 수 있음

1. 부를 때 조심해야 하는가. 호출 시점 / 횟수가 중요한가
2. 실행할 수 있는가. 실행하기 전까지 어떻게 동작할 수 있는지 아는가

### 1. 호출 시점 / 횟수가 중요한가

**액션은 호출하는 시점, 횟수에 의존함.** 따라서 호출할 때 조심해야 함.

* 액션 : 호출 시점 / 횟수가 중요
* 계산/데이터 : 호출 시점 / 데이터 중요 X

```
Action ➡️ 부르는 시점에 의존!
- sendEmail(to, from)
- saveUserDB(user)
- getCurrentTime()
---
⬇️ 부르는 시점 / 횟수 중요하지 않은 코드
{"firstName": "YJ",
 "lastName" : "J" }

sum(numbers)
```

### 2. 실행할 수 있는가, 실행 전에 어떻게 동작할 수 있는지 아는가

* 계산 : 실행 가능. 실행 전에 어떻게 동작할 지 모름
* 데이터 : 실행 불가. 정적, 눈에 보이는 그대로. 

```
Calculation ➡️ 입력값을 계산해 출력
- sum(numbers)
---
Data ➡️ 이벤트에 대한 사실
- {"firstName": "YJ",
   "lastName" : "J" }
```

## 구분의 장점

**분산 시스템에 유용**

분산 시스템의 규칙

1. 메세지 순서 바뀔 수 있음
2. 메세지 중복 / 유실 가능
3. 응답 받지 못하면 어떤 일이 발생했는지 모름

시간에 따라 바뀌는 값을 모델링 할 때 실행 시점 / 횟수에 의존하는 코드 없애면 코드를 쉽게 이해하고 버그 막을 수 있음.

데이터/계산 : 실행 시점 / 횟수에 의존 X ➡️ **코드를 데이터/계산으로 바꿀수록 분산 시스템의 문제 해결 가능. 액션은 코드에 영향을 주지 않게 격리.**

## 정리

액션, 계산, 데이터와 각 분류에 해당하는 FP 도구

* 액션 : 실행 시점 / 횟수에 의존
	* 실행 시점 - 순서 보장하는 방법
	* 횟수 - 액션이 한 번만 실행되게 보장한느 방법
* 계산 : 입력값으로 출력값을 만듦. 같은 입력값이 주어질 경우 항상 같은 결괏값. 외부에 영향 주지 않음. 테스트 쉽고 호출 횟수와 상관 없이 안전.
	* 정확도 - 정적 분석
	* 수학적 지식
	* 테스트 전략
* 데이터 : 이벤트에 대해 기록한 사실. 데이터 자체로 의미 있으며 여러 형태로 해석 / 사용 가능
	* 효율성 - 데이터 구조
	* 데이터 보관 기술
